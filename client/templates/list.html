<template name="blogList">
    <section class="blog-list">
        {{#if authorLoggedIn}}
            <section class="blog-controls">
                <button title="New" id="newBlogPostBtn">
                    <i class="fa fa-pencil-square-o"></i>{{_ "new"}}</button>
            </section>
        {{/if}}
        {{#each posts}}
            <section class="blog-post">
                {{#if authorLoggedIn}}
                    {{> blogControls }}
                {{/if}}
                <header>
                    <h2><a href="{{pathFor 'blogPost' slug=slug year=year month=month}}">{{title}}</a></h2>
                    <span class="info">
                        {{_ "posted_by"}}<span class="author">{{authorName created_by}}</span>
                        <time>{{formatDate date}}</time>
                    </span>
                </header>
                <summary>
                {{#if blogConfig 'showSummary'}}
                    {{summary}}
                {{else}}
                    <span style="text-overflow:ellipsis;">{{#markdown}}{{content}}{{/markdown}}</span>
                {{/if}}
                    <a href="{{pathFor 'blogPost' slug=slug year=year month=month}}">{{_ "read_more"}}
                    <i class="fa fa-long-arrow-right"></i></a>
                </summary>
                <footer>
                    {{#if isEdited}}
                        <span class="info">
                            {{_ "edited_at"}}<time>{{formatDate updated_at}}</time>{{_ "edited_by"}}<span class="author">{{authorName updated_by}}</span>
                        </span>
                    {{/if}}
                </footer>
            </section>
        {{else}}
            {{_ "waiting_for_posts"}}
        {{/each}}
    </section>
</template>
